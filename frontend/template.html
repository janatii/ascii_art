<!DOCTYPE html>
<html>
<head>
    <title>Video ASCII ART</title>
    <style>
        .styled-element {
            display: inline-block;
            background-color: white;
            color: black;
        }
        .toggled {
            display: inline-block;
            background-color: black;
            color:white;
        }
        .dezoomed {
            transform: scale(0.5);
            transform-origin: 0% 0% 0px;
        }
    </style>
</head>
<body>
    <h1>Streamed Content:</h1>
    <button id="toggle-button">change theme</button>

    <div>
        <pre id="streamed-content" class="dezoomed styled-element"></pre>
    </div>
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const streamedContentDiv = document.getElementById("streamed-content");
        let data;
        function handleStreamEvent(event) {
            streamedContentDiv.innerHTML = event.data;

        }

        const eventSource = new EventSource('/stream'); // Connect to the SSE endpoint
        eventSource.onmessage = handleStreamEvent; 
        

        const targetElement = document.getElementById('streamed-content');
        const toggleButton = document.getElementById('toggle-button');
        
        toggleButton.addEventListener('click', () => {
            targetElement.classList.toggle('toggled');
        });
    });
        
    </script>
</body>
</html>
